# План автоматизации
## Перечень автоматизируемых сценариев

Валидные требования по заполнению полей:

1) в поле  НОМЕР КАРТЫ вводить значение, состоящее из 12 цифр: 12-19 цифр
2) в поле МЕСЯЦ вводить двухзначное от 01 до 12 включительно, для текущего года, не менее цифры текущего месяца
3) в поле ГОД вводить данные, не превышающие 5 лет от текущего года, и не менее текущего года
4) в поле ИМЯ вводиться данные на латинице не менее одной буквы
5) в поле CVC/CVV вводить трёхзначное число от 000 до 999 включительно


### Позитивные сценарии:
1) Успешная оплата тура "Путешествие дня" при валидном заполнение полей формы "Оплата по карте" по действующей карте
Ожидаемый результат: появление сообщения об успешной оплате тура

2) Успешная оплата в кредит тура "Путешествие дня" при валидном заполнение полей формы "Кредит по данным карты" по действующей карте
Ожидаемый результат: появление сообщения об успешном взятии кредита

3) Отказ в оплате тура "Путешествие дня" при валидном заполнение полей формы "Оплата по карте" по declined карте
Ожидаемый результат: появление сообщения об отказе в оплате тура

4) Отказ в кредите на покупку тура "Путешествие дня" при валидном заполнение полей формы "Кредит по данным карты" по declined карте
Ожидаемый результат: появление сообщения об отказе в взятие кредита

5) Заполнение всех полей валидными данными формы "Оплата по карте" тура "Путешествие дня" с последующим переключением на форму "Кредит по данным карты"
Ожидаемый результат: форма переключиться, поля останутся заполненными теми же данными

6) Заполнение всех полей валидными данными формы "Кредит по данным карты" тура "Путешествие дня" с последующим переключением на форму "Оплата по карте"
Ожидаемый результат: форма переключиться, поля останутся заполненными теми же данными

7) Заполнение поля "Номер карты" номером действующей карты без пробелов, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появление сообщения об успешной оплате тура

8) Заполнение поля "Месяц" значением 01, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появление сообщения об успешной оплате тура

9) Заполнение поля "Месяц" значением 12, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появление сообщения об успешной оплате тура
10) Заполнение поля "Владелец" валидными данными с дефисом, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
    Ожидаемый результат: появление сообщения об успешной оплате тура

### Негативные сценарии:
1)  Оставить поле "Номер карты" пустым, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: под полем "Номер карты" появиться предупреждение об пустом поле

2) Заполнение поля "Номер карты" 11ю цифрами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: под полем "Номер карты" появиться предупреждение о недопустимой длине поля

3) Заполнение поля "Номер карты" 12 рандомными цифрами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появление сообщения об отказе в оплате тура

4) Заполнение поля "Номер карты" 19 рандомными цифрами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появление сообщения об отказе в оплате тура

5) Заполнение поля "Номер карты" 20 рандомными цифрами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: под полем "Номер карты" появиться предупреждение о недопустимой длине поля

6) Заполнение поля "Номер карты" 16 рандомными символами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: под полем "Номер карты" появиться предупреждение об недопустимых символах

7) Оставить поле "Месяц" пустым, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: под полем "Месяц" появиться предупреждение об пустом поле

8) Заполнение поля "Месяц" номером с 1 до 9, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: автодополнение нулем вначале в поле "Месяц"

9) Заполнение поля "Месяц" 3 цифрами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появится сообщение об ошибке заполнения поля Месяц

10) Заполнение поля "Месяц" значением 00, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появится сообщение об ошибке заполнения поля Месяц

11) Заполнение поля "Месяц" значением 13, остальные поля заполнены валидно* в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появится сообщение об ошибке заполнения поля Месяц

12) Заполнение поля "Месяц" двумя рандомными символами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появится сообщение об ошибке заполнения поля Месяц

13) Оставить поле "Год" пустым, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появится сообщение об ошибке заполнения поля Год

14) Заполнение поля "Год" предыдущим годом, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появится сообщение об ошибке заполнения поля Год

15) Заполнение поля "Год" текущим годом, а поля "Месяц" предыдущим месяцем, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появится сообщение об ошибке заполнения поля Месяц

16) Заполнение поля "Год" текущим годом и поля "Месяц" текущим месяцем, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: появление сообщения об успешной оплате тура

17) Осавить поле "Владелец" пустым, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: под полем "Владелец" появиться предупреждение об пустом поле

18) Заполнение поля "Владелец" кириллицей, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат:  появится сообщение об ошибке заполнения поля "Владелец" 

19) Заполнение поля "Владелец" спецсимволами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат:  появится сообщение об ошибке заполнения поля "Владелец"

20) Оставление поля "CVC/CVV" пустым, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: под полем "CVC/CVV" появиться предупреждение об пустом поле

21) Заполнение поля "CVC/CVV" 2-мя цифрами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: под полем "CVC/CVV" появление сообщения об недопустимой длине

22) Заполнение поля "CVC/CVV" 4-мя цифрами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат: под полем "CVC/CVV" появление сообщения об недопустимой длине

23) Заполнение поля "CVC/CVV" 3 буквами, остальные поля заполнены валидно в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат:  появится сообщение об ошибке заполнения поля "CVC/CVV"

24) Заполнение поля "CVC/CVV" 3 рандомными спецсимволами, остальные поля заполнены валидно* в форме "Оплата по карте" тура "Путешествие дня"
Ожидаемый результат:  появится сообщение об ошибке заполнения поля "CVC/CVV"

## Перечень используемых инструментов с обоснованием выбора
- IntelliJ IDEA — интегрированная среда разработки программного обеспечения. Подходит для работы на Java. Умная среда разработки, есть автодополнения кода и очень гибкие настройки для работы. Поддерживает операционные системы Microsoft Windows, Linux, macOC.
- Java  — язык написания авто-тестов. Удобен тем, что поддерживает большое количество библиотек для написания кода автотестов.
- TestNG (Test Next Generation) - это фреймворк для тестирования Java-приложений, который предоставляет более широкий набор функций, чем стандартный JUnit. Он был разработан с целью решения проблем, связанных с JUnit, таких как ограниченная поддержка группировки, отчетности и тестирования с использованием аннотаций.
TestNG поддерживает различные типы тестов, такие как тесты зависимостей, параметризованные тесты, тесты времени выполнения, группировка тестов и т.д. Он также предоставляет множество опций конфигурации, таких как настройка тестового окружения, параметры запуска тестов, настройка отчетности и т.д.
- Selenide — это фреймворк для автоматизированного тестирования веб- приложений на основе Selenium WebDriver. Удобен тем, что легко добавляется в зависимости в файл build.gradle. Не требует отдельной загрузки файла вебдрайвера для управления браузером. Есть все удобные методв для работы. Экономия времени на написание тестов.
Библиотека Facker. Легко подключается в build.gradle. Используем для ввода рандомных данных.
- Allure - фреймворк, позволит создать визуально наглядную картину выполнения тестов.
- Java Faker - Простой инструмент для генерации тестовых данных 
- Lombok -  фреймворк для автогенерации кода с целью улучшить читаемость тестов

## Перечень и описание возможных рисков при автоматизации
- Из-за того что тестируется функционал фичи "Путешествие дня", данные для тестов должны быть не "захардкоренными" т.е. тесты должны проходить после каждодневных изменений (например, изменение цены тура)
- Заполнение полей "Месяц" и "Год" должно быть не "захардкоренными" и изменяться с течением времени
- Из-за требование совместимости с двумя БД: MySQL, PostgreSQL, могут возникнут проблемы с разностью диалектов SQL
- Из-за требование совместимости с двумя БД: MySQL, PostgreSQL, создается дополнительная трудность с настройкой SUT
- Поскольку в качестве банковского сервиса выступает заглушка, есть риск что при подключение реальной системы появятся новые не выявленные дефекты
- После каждого прогона тестов необходимо очистить БД от записей
- Потеря актуальности тестов UI при любом изменение в дизайне


## Интервальная оценка с учётом рисков (в часах)
- Настройка SUT, создание необходимых дата-хелперов и page object: 10 - 12 часов
- Написание автотестов: 10 - 12 часов
- Создание баг-репортов и отчёта по результатам прогона тестов: 8 часов
- Отчёт по результатам автоматизации: 4 часа

## План сдачи работ (когда будут авто-тесты, результаты их прогона и отчёт по автоматизации)

1) Готовность автотестов — через 3 рабочих дня после утверждения плана тестирования;
2) Подготовка отчетов по результатам прогона тестов — через 2 рабочих дня после прогона тестов;
3) Подготовка отчета по итогам автоматизации — через 2 рабочих дня после отчетов по прогону тестов.